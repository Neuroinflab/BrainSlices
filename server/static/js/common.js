/*****************************************************************************\
*                                                                             *
*    This file is part of BrainSlices Software                                *
*                                                                             *
*    Copyright (C) 2012-2013 J. M. Kowalski, J. Potworowski                   *
*                                                                             *
*    BrainSlices software is free software: you can redistribute it and/or    *
*    modify it under the terms of the GNU General Public License as           *
*    published by the Free Software Foundation, either version 3 of the       *
*    License, or (at your option) any later version.                          *
*                                                                             *
*    BrainSlices software is distributed in the hope that it will be useful,  *
*    but WITHOUT ANY WARRANTY; without even the implied warranty of           *
*    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the            *
*    GNU General Public License for more details.                             *
*                                                                             *
*    You should have received a copy of the GNU General Public License        *
*    along with BrainSlices software.                                         *
*    If not, see http://www.gnu.org/licenses/.                                *
*                                                                             *
\*****************************************************************************/
//OBSOLETED by internal function of CLoginManager.ajaxAux
function ajaxErrorHandler(xhr, textStatus, errorThrown)
{
  var errormsg = "Server returned error:\n";
  errormsg += "Ready state :" + xhr.readyState + "\n";
  errormsg += "Status " + xhr.status + ", " + errorThrown + "\n";
  //errormsg += "Response text" + xhr.responseText 
  alert(errormsg);
}

function escapeHTML(s)
{
  return s.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;");
}

function validEmail(email, question)
{
  if (email.match(/^.+@.+$/) == null)
  {
    return false;
  }

  if (question != null && email.match(/^((\w|-)+(\.(\w|-)+)*@(\w|-)+(\.(\w|-)+)+)$/) == null)
  {
    return confirm(question);
  }
  return true;
}

function validLogin(login)
{
  return login.match(/^[a-z0-9-+_.*]+$/i) != null;
}
